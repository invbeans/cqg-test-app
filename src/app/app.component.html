<main>
    <div class="content">
        <app-search
            (refreshEvent)="refreshPackages()"
            (filterPackages)="filterPackages($event)"
        ></app-search>
        <app-card-list>
            @if (packages) {
                @for (package of packages; track package.id) {
                    <app-package-card 
                        (fetchDependencies)="getDependenciesById(package.id)"
                        (cleanTempDependencies)="cleanTempDependencies()"
                        [package]="package"
                        [isDependencyOfHoveredPackage] = "tempDependencies.includes(package.id)"
                    ></app-package-card>
                }
            } @else {
                <p>Подгружаем пакеты...</p>
            }
        </app-card-list>
    </div>
</main>